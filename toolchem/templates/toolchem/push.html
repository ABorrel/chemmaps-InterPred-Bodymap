{% extends "base.html" %}
{% load static %}
{% block extra-css %}
<link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<link href="https://sandbox.ntp.niehs.nih.gov/static/css/ntpweb-shared.css"
rel="stylesheet" type="text/css"/> 
<link href="https://sandbox.ntp.niehs.nih.gov/static/css/base.css"
rel="stylesheet" type="text/css"/>
<link href="https://sandbox.ntp.niehs.nih.gov/static/css/ntpweb.css"
rel="stylesheet" type="text/css"/>
<link href="{% static 'toolchem/css/theme.css' %}" rel="stylesheet">

{% endblock %}


{% block title %}Admin ToolBox{% endblock %}
{% block content %}
<p>
<h1>Database summary</h1>
Number of chemicals in the database: <b>{{ d_chem_json.All_chem }}</b><br>
Number of structures cleaned available (SMILES prepared properly): <b>{{ d_chem_json.All_chem_cleaned }}</b><br>
Number of structures with descriptors 2D and 3D (descriptors computed properly): <b>{{ d_chem_json.All_chem_desc }}</b><br>
<br>
<h2>User uploads</h2>
Chemicals in <i>chemicals_user</i> table (number of chemicals submitted by user): <b>{{ d_chem_json.All_chem_user }}</b><br>
Chemicals in <i>chemical_description_user</i> properly processed: <b> {{ d_chem_json.All_chem_desc_user }}</b><br>
<br>
<h2>By applications</h2>
<div class="div-table">
    <div class="div-table-row">
        <div class="div-table-head">ChemMaps</div>
        <div class="div-table-head">InterPred</div>
        <div class="div-table-head">BodyMap</div>
    </div>
    <div class="div-table-row">
        <div class="div-table-col">
            Chemicals in DSSToxMap: <b>{{ d_chem_json.chemmaps_DSSTOXMap }}</b><br>
            Chemicals in DrugMap: <b>{{ d_chem_json.chemmaps_DrugMap }}</b><br>
            Chemicals in PFASMap: <b>{{ d_chem_json.chemmaps_PFASMap }}</b><br>
            Chemicals in Tox21Map: <b>{{ d_chem_json.chemmaps_Tox21Map }}</b><br>
        </div>
        <div class="div-table-col">
            Chemicals interference computed: <b>{{ d_chem_json.interpred_chem }}</b>
        </div>
        <div class="div-table-col">
            Chemicals in BodyMap: <b>{{ d_chem_json.bodymap_chem }}</b>
        </div>
    </div>
</div>
<br>


<h1>Updates ready to be pushed</h1>


Chemicals ready to be push in the main chemicals table:<b> {{ d_chem_json.All_chem_update }}</b><br>
<div class="div-table">
    <div class="div-table-row">
        <div class="div-table-head">ChemMaps</div>
        <div class="div-table-head">InterPred</div>
        <div class="div-table-head">BodyMap</div>
    </div>
    <div class="div-table-row">
        <div class="div-table-col">
            Chemicals in DSSToxMap: <b>{{ d_chem_json.chemmaps_DSSTOXMap }}</b><br>
            Chemicals in DrugMap: <b>{{ d_chem_json.chemmaps_DrugMap }}</b><br>
            Chemicals in PFASMap: <b>{{ d_chem_json.chemmaps_PFASMap }}</b><br>
            Chemicals in Tox21Map: <b>{{ d_chem_json.chemmaps_Tox21Map }}</b><br>
        </div>
        <div class="div-table-col">
            Chemicals interference computed: <b>{{ d_chem_json.interpred_chem }}</b>
        </div>
        <div class="div-table-col">
            Chemicals in BodyMap: <b>{{ d_chem_json.bodymap_chem }}</b>
        </div>
    </div>
</div>
</p>

<form action='/toolchem/pushUpdate' method='post'>{% csrf_token %}
    <input type='submit' value='Push updates'>
</form>

<br>
<i>Last update: 10/2020</i>
{% endblock content %}
